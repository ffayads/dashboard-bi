{"ast":null,"code":"var _jsxFileName = \"/var/www/html/UT/Dashboard-BI/pages/_app.jsx\";\nimport React from \"react\";\nvar __jsx = React.createElement;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport Head from 'next/head';\nimport Router from 'next/router';\nimport Cookies from 'universal-cookie';\nimport { initialState, reducer, ContextOne } from '../context/global';\nimport axios from 'axios';\nimport NProgress from 'nprogress';\nimport \"../public/assets/css/nucleo-icons.css\";\nimport \"../public/assets/scss/black-dashboard-pro-react.scss?v=1.0.0\";\nimport \"../public/assets/demo/demo.css\";\naxios.defaults.baseURL = process.env.apiUrl;\naxios.defaults.headers.post['Content-Type'] = 'application/x-www-form-urlencoded';\naxios.defaults.headers.get['Content-Type'] = 'application/x-www-form-urlencoded';\nRouter.events.on('routeChangeStart', () => {\n  NProgress.start();\n});\nRouter.events.on('routeChangeComplete', () => {\n  NProgress.done();\n});\nRouter.events.on('routeChangeError', () => {\n  NProgress.done();\n});\naxios.interceptors.response.use(response => {\n  return response;\n}, err => {\n  if (Router.route !== \"/login\" && err.response.status === 401 && err.config && !err.config.__isRetryRequest) {\n    cookies.remove(\"Token\");\n    Router.replace(\"/login\");\n    return err;\n  }\n});\nconst cookies = new Cookies();\n\nconst MyApp = ({\n  Component,\n  pageProps\n}) => {\n  let [state, dispatch] = React.useReducer(reducer, initialState);\n  let value = {\n    state,\n    dispatch\n  };\n  React.useEffect(() => validate());\n\n  let validate = () => {\n    document.body.classList.add(\"white-content\");\n    let auth = cookies.get(\"Token\");\n    axios.defaults.headers.get['Authorization'] = auth;\n    axios.defaults.headers.post['Authorization'] = auth;\n\n    if (Router.route !== \"/login\" && (auth === undefined || auth === \"\")) {\n      Router.replace(\"/login\");\n    } else if (Router.route === \"/login\" && auth !== \"\" && auth !== undefined) {\n      Router.replace(\"/dashboard\");\n    }\n  };\n\n  React.useEffect(() => {\n    if (state.load) dispatch({\n      type: \"stop-load\"\n    });\n    return () => {\n      Router.events.off('routeChangeStart', () => {\n        NProgress.start();\n      });\n      Router.events.off('routeChangeComplete', () => {\n        NProgress.done();\n      });\n      Router.events.off('routeChangeError', () => {\n        NProgress.done();\n      });\n    };\n  }, []);\n  return __jsx(React.Fragment, null, __jsx(Head, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 13\n    }\n  }, __jsx(\"title\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 17\n    }\n  }, \"Via40 Express\"), __jsx(\"meta\", {\n    name: \"viewport\",\n    content: \"initial-scale=1.0, width=device-width\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 17\n    }\n  }), __jsx(\"link\", {\n    rel: \"icon\",\n    href: \"/img/Logo.png\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 17\n    }\n  }), __jsx(\"link\", {\n    rel: \"stylesheet\",\n    type: \"text/css\",\n    href: \"/nprogress.css\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 17\n    }\n  })), __jsx(ContextOne.Provider, {\n    value: value,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 13\n    }\n  }, __jsx(Component, _extends({}, pageProps, value, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 17\n    }\n  }))));\n};\n\nexport default MyApp;","map":{"version":3,"sources":["/var/www/html/UT/Dashboard-BI/pages/_app.jsx"],"names":["Head","Router","Cookies","initialState","reducer","ContextOne","axios","NProgress","defaults","baseURL","process","env","apiUrl","headers","post","get","events","on","start","done","interceptors","response","use","err","route","status","config","__isRetryRequest","cookies","remove","replace","MyApp","Component","pageProps","state","dispatch","React","useReducer","value","useEffect","validate","document","body","classList","add","auth","undefined","load","type","off"],"mappings":"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","sourcesContent":["import Head from 'next/head';\nimport Router from 'next/router';\nimport Cookies from 'universal-cookie';\nimport { initialState, reducer, ContextOne } from '../context/global';\nimport axios from 'axios';\nimport NProgress from 'nprogress'\nimport \"../public/assets/css/nucleo-icons.css\";\nimport \"../public/assets/scss/black-dashboard-pro-react.scss?v=1.0.0\";\nimport \"../public/assets/demo/demo.css\";\n\naxios.defaults.baseURL = process.env.apiUrl;\naxios.defaults.headers.post['Content-Type'] = 'application/x-www-form-urlencoded';\naxios.defaults.headers.get['Content-Type'] = 'application/x-www-form-urlencoded';\n\nRouter.events.on('routeChangeStart', () => { NProgress.start(); })\nRouter.events.on('routeChangeComplete', () => { NProgress.done(); })\nRouter.events.on('routeChangeError', () => { NProgress.done(); })\n\naxios.interceptors.response.use(response => {\n    return response;\n}, err => {\n    if (Router.route !== \"/login\" && err.response.status === 401 && err.config && !err.config.__isRetryRequest) {\n        cookies.remove(\"Token\")\n        Router.replace(\"/login\");\n        return err;\n    }\n});\n\nconst cookies = new Cookies();\nconst MyApp = ({ Component, pageProps }) => {\n    let [state, dispatch] = React.useReducer(reducer, initialState);\n    let value = { state, dispatch };\n\n    React.useEffect(() => validate());\n\n    let validate = () => {\n        document.body.classList.add(\"white-content\");\n        let auth = cookies.get(\"Token\");\n        axios.defaults.headers.get['Authorization'] = auth;\n        axios.defaults.headers.post['Authorization'] = auth;\n        if (Router.route !== \"/login\" && (auth === undefined || auth === \"\")) {\n            Router.replace(\"/login\");\n        } else if (Router.route === \"/login\" && auth !== \"\" && auth !== undefined) {\n            Router.replace(\"/dashboard\");\n        }\n    }\n\n    React.useEffect(() => {\n        if (state.load) dispatch({ type: \"stop-load\" });\n        return () => {\n            Router.events.off('routeChangeStart', () => { NProgress.start(); })\n            Router.events.off('routeChangeComplete', () => { NProgress.done(); })\n            Router.events.off('routeChangeError', () => { NProgress.done(); })\n        }\n    }, [])\n\n    return (\n        <>\n            <Head>\n                <title>{\"Via40 Express\"}</title>\n                <meta name=\"viewport\" content=\"initial-scale=1.0, width=device-width\" />\n                <link rel=\"icon\" href=\"/img/Logo.png\" />\n                <link rel=\"stylesheet\" type=\"text/css\" href=\"/nprogress.css\" />\n            </Head>\n            <ContextOne.Provider value={value}>\n                <Component {...pageProps} {...value} />\n            </ContextOne.Provider>\n        </>\n    );\n\n}\n\nexport default MyApp;"]},"metadata":{},"sourceType":"module"}