{"ast":null,"code":"import React from 'react';\nimport axios from 'axios';\nimport Cookies from 'universal-cookie';\nimport swal from 'sweetalert';\nimport { ContextOne } from '../context/global';\nvar cookies = new Cookies();\nexport var Login = function Login(data, dispatch) {\n  axios.post(\"/login\", {\n    \"email\": data.email,\n    \"password\": data.password,\n    \"role\": \"1\"\n  }).then(function (response) {\n    if (response !== undefined && response.status === 200) {\n      var token = 'Bearer '.concat(response.data.token);\n      cookies.set(\"Token\", token);\n      dispatch({\n        type: \"stop-load\"\n      });\n    } else {\n      swal(\"Alerta!\", \"Usuario/contraseña incorrectos\", \"warning\");\n    }\n  });\n};\nexport var refreshToken = function refreshToken(data, dispatch) {\n  axios.get(\"/auth/refresh_token\", {}).then(function (response) {\n    if (response.status === 200) {\n      var token = 'Bearer '.concat(data.token);\n      cookies.set(\"Token\", token);\n      axios.defaults.headers.get['Authorization'] = token;\n      axios.defaults.headers.post['Authorization'] = token;\n    }\n  });\n};\n\nvar info = function info() {\n  return \"Utils for query get type \";\n};\n\nexport default info;","map":{"version":3,"sources":["/var/www/html/UT/Dashboard-BI/Utlis/auth.jsx"],"names":["React","axios","Cookies","swal","ContextOne","cookies","Login","data","dispatch","post","email","password","then","response","undefined","status","token","concat","set","type","refreshToken","get","defaults","headers","info"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,OAAP,MAAoB,kBAApB;AACA,OAAOC,IAAP,MAAiB,YAAjB;AACA,SAASC,UAAT,QAA2B,mBAA3B;AACA,IAAMC,OAAO,GAAG,IAAIH,OAAJ,EAAhB;AAEA,OAAO,IAAMI,KAAK,GAAG,SAARA,KAAQ,CAACC,IAAD,EAAOC,QAAP,EAAoB;AACrCP,EAAAA,KAAK,CAACQ,IAAN,CAAW,QAAX,EAAqB;AACjB,aAASF,IAAI,CAACG,KADG;AAEjB,gBAAYH,IAAI,CAACI,QAFA;AAGjB,YAAQ;AAHS,GAArB,EAIGC,IAJH,CAIQ,UAACC,QAAD,EAAc;AAClB,QAAIA,QAAQ,KAAKC,SAAb,IAA0BD,QAAQ,CAACE,MAAT,KAAoB,GAAlD,EAAuD;AACnD,UAAIC,KAAK,GAAG,UAAUC,MAAV,CAAiBJ,QAAQ,CAACN,IAAT,CAAcS,KAA/B,CAAZ;AACAX,MAAAA,OAAO,CAACa,GAAR,CAAY,OAAZ,EAAqBF,KAArB;AACAR,MAAAA,QAAQ,CAAC;AAAEW,QAAAA,IAAI,EAAE;AAAR,OAAD,CAAR;AACH,KAJD,MAIO;AACHhB,MAAAA,IAAI,CAAC,SAAD,EAAY,gCAAZ,EAA8C,SAA9C,CAAJ;AACH;AACJ,GAZD;AAaH,CAdM;AAgBP,OAAO,IAAMiB,YAAY,GAAG,SAAfA,YAAe,CAACb,IAAD,EAAOC,QAAP,EAAoB;AAC5CP,EAAAA,KAAK,CAACoB,GAAN,CAAU,qBAAV,EAAiC,EAAjC,EACGT,IADH,CACQ,UAACC,QAAD,EAAc;AAClB,QAAIA,QAAQ,CAACE,MAAT,KAAoB,GAAxB,EAA6B;AACzB,UAAIC,KAAK,GAAG,UAAUC,MAAV,CAAiBV,IAAI,CAACS,KAAtB,CAAZ;AACAX,MAAAA,OAAO,CAACa,GAAR,CAAY,OAAZ,EAAqBF,KAArB;AACAf,MAAAA,KAAK,CAACqB,QAAN,CAAeC,OAAf,CAAuBF,GAAvB,CAA2B,eAA3B,IAA8CL,KAA9C;AACAf,MAAAA,KAAK,CAACqB,QAAN,CAAeC,OAAf,CAAuBd,IAAvB,CAA4B,eAA5B,IAA+CO,KAA/C;AACH;AACJ,GARD;AASH,CAVM;;AAYP,IAAMQ,IAAI,GAAG,SAAPA,IAAO,GAAM;AACf,SAAO,2BAAP;AACH,CAFD;;AAGA,eAAeA,IAAf","sourcesContent":["import React from 'react';\nimport axios from 'axios';\nimport Cookies from 'universal-cookie';\nimport swal from 'sweetalert';\nimport { ContextOne } from '../context/global';\nconst cookies = new Cookies();\n\nexport const Login = (data, dispatch) => {\n    axios.post(\"/login\", {\n        \"email\": data.email,\n        \"password\": data.password,\n        \"role\": \"1\",\n    }).then((response) => {\n        if (response !== undefined && response.status === 200) {\n            let token = 'Bearer '.concat(response.data.token);\n            cookies.set(\"Token\", token);\n            dispatch({ type: \"stop-load\" });\n        } else {\n            swal(\"Alerta!\", \"Usuario/contraseña incorrectos\", \"warning\")\n        }\n    })\n}\n\nexport const refreshToken = (data, dispatch) => {\n    axios.get(\"/auth/refresh_token\", {\n    }).then((response) => {\n        if (response.status === 200) {\n            let token = 'Bearer '.concat(data.token);\n            cookies.set(\"Token\", token);\n            axios.defaults.headers.get['Authorization'] = token;\n            axios.defaults.headers.post['Authorization'] = token;\n        }\n    })\n}\n\nconst info = () => {\n    return \"Utils for query get type \";\n}\nexport default info;"]},"metadata":{},"sourceType":"module"}