{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"/var/www/html/Via-Dashboard/via40-dashboard/pages/_app.jsx\";\n\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport Head from 'next/head';\nimport \"../public/assets/css/nucleo-icons.css\";\nimport \"../public/assets/scss/black-dashboard-pro-react.scss?v=1.0.0\";\nimport \"../public/assets/demo/demo.css\";\nimport Router from 'next/router';\nimport Cookies from 'universal-cookie';\nimport { initialState, reducer, ContextOne } from '../context/global';\nimport axios from 'axios';\nimport NProgress from 'nprogress';\naxios.defaults.baseURL = process.env.apiUrl;\naxios.defaults.headers.post['Content-Type'] = 'application/x-www-form-urlencoded';\naxios.defaults.headers.get['Content-Type'] = 'application/x-www-form-urlencoded';\nRouter.events.on('routeChangeStart', function () {\n  NProgress.start();\n});\nRouter.events.on('routeChangeComplete', function () {\n  NProgress.done();\n});\nRouter.events.on('routeChangeError', function () {\n  NProgress.done();\n});\naxios.interceptors.response.use(function (response) {\n  return response;\n}, function (err) {\n  if (Router.route !== \"/login\" && err.response.status === 401 && err.config && !err.config.__isRetryRequest) {\n    cookies.remove(\"Token\");\n    Router.replace(\"/login\");\n    return err;\n  }\n});\nvar cookies = new Cookies();\n\nvar MyApp = function MyApp(_ref) {\n  var Component = _ref.Component,\n      pageProps = _ref.pageProps;\n\n  var _React$useReducer = React.useReducer(reducer, initialState),\n      _React$useReducer2 = _slicedToArray(_React$useReducer, 2),\n      state = _React$useReducer2[0],\n      dispatch = _React$useReducer2[1];\n\n  var value = {\n    state: state,\n    dispatch: dispatch\n  };\n  React.useEffect(function () {\n    validate();\n    return function () {\n      validate();\n    };\n  });\n\n  var validate = function validate() {\n    var auth = cookies.get(\"Token\");\n    axios.defaults.headers.get['Authorization'] = auth;\n    axios.defaults.headers.post['Authorization'] = auth;\n    document.body.classList.add(\"white-content\");\n\n    if (Router.route !== \"/login\" && (auth === undefined || auth === \"\")) {\n      Router.replace(\"/login\");\n    } else if (Router.route === \"/login\" && auth !== \"\" && auth !== undefined) {\n      Router.replace(\"/dashboard\");\n    }\n  };\n\n  React.useEffect(function () {\n    if (state.load) dispatch({\n      type: \"stop-load\"\n    });\n    return function () {\n      Router.events.off('routeChangeStart', function () {\n        NProgress.start();\n      });\n      Router.events.off('routeChangeComplete', function () {\n        NProgress.done();\n      });\n      Router.events.off('routeChangeError', function () {\n        NProgress.done();\n      });\n    };\n  }, []);\n  return __jsx(React.Fragment, null, __jsx(Head, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 13\n    }\n  }, __jsx(\"title\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 17\n    }\n  }, \"Via40 Express\"), __jsx(\"meta\", {\n    name: \"viewport\",\n    content: \"initial-scale=1.0, width=device-width\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 17\n    }\n  }), __jsx(\"link\", {\n    rel: \"icon\",\n    href: \"/img/Logo.png\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 17\n    }\n  }), __jsx(\"link\", {\n    rel: \"stylesheet\",\n    type: \"text/css\",\n    href: \"/nprogress.css\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 17\n    }\n  })), __jsx(ContextOne.Provider, {\n    value: value,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 13\n    }\n  }, __jsx(Component, _extends({}, pageProps, value, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 17\n    }\n  }))));\n};\n\nexport default MyApp;","map":{"version":3,"sources":["/var/www/html/Via-Dashboard/via40-dashboard/pages/_app.jsx"],"names":["Head","Router","Cookies","initialState","reducer","ContextOne","axios","NProgress","defaults","baseURL","process","env","apiUrl","headers","post","get","events","on","start","done","interceptors","response","use","err","route","status","config","__isRetryRequest","cookies","remove","replace","MyApp","Component","pageProps","React","useReducer","state","dispatch","value","useEffect","validate","auth","document","body","classList","add","undefined","load","type","off"],"mappings":"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","sourcesContent":["import Head from 'next/head';\nimport \"../public/assets/css/nucleo-icons.css\";\nimport \"../public/assets/scss/black-dashboard-pro-react.scss?v=1.0.0\";\nimport \"../public/assets/demo/demo.css\";\nimport Router from 'next/router';\nimport Cookies from 'universal-cookie';\nimport { initialState, reducer, ContextOne } from '../context/global';\nimport axios from 'axios';\nimport NProgress from 'nprogress'\n\naxios.defaults.baseURL = process.env.apiUrl;\naxios.defaults.headers.post['Content-Type'] = 'application/x-www-form-urlencoded';\naxios.defaults.headers.get['Content-Type'] = 'application/x-www-form-urlencoded';\n\nRouter.events.on('routeChangeStart', () => { NProgress.start(); })\nRouter.events.on('routeChangeComplete', () => { NProgress.done(); })\nRouter.events.on('routeChangeError', () => { NProgress.done(); })\n\naxios.interceptors.response.use(response => {\n    return response;\n}, err => {\n    if (Router.route !== \"/login\" && err.response.status === 401 && err.config && !err.config.__isRetryRequest) {\n        cookies.remove(\"Token\")\n        Router.replace(\"/login\");\n        return err;\n    }\n});\n\nconst cookies = new Cookies();\nconst MyApp = ({ Component, pageProps }) => {\n    let [state, dispatch] = React.useReducer(reducer, initialState);\n    let value = { state, dispatch };\n\n    React.useEffect(() => {\n        validate();\n        return () => {\n            validate();\n        }\n    });\n\n    let validate = () => {\n        let auth = cookies.get(\"Token\");\n        axios.defaults.headers.get['Authorization'] = auth;\n        axios.defaults.headers.post['Authorization'] = auth;\n        document.body.classList.add(\"white-content\");\n        if (Router.route !== \"/login\" && (auth === undefined || auth === \"\")) {\n            Router.replace(\"/login\");\n        } else if (Router.route === \"/login\" && auth !== \"\" && auth !== undefined) {\n            Router.replace(\"/dashboard\");\n        }\n    }\n\n    React.useEffect(() => {\n        if (state.load) dispatch({ type: \"stop-load\" });\n        return () => {\n            Router.events.off('routeChangeStart', () => { NProgress.start(); })\n            Router.events.off('routeChangeComplete', () => { NProgress.done(); })\n            Router.events.off('routeChangeError', () => { NProgress.done(); })\n        }\n    }, [])\n\n    return (\n        <>\n            <Head>\n                <title>{\"Via40 Express\"}</title>\n                <meta name=\"viewport\" content=\"initial-scale=1.0, width=device-width\" />\n                <link rel=\"icon\" href=\"/img/Logo.png\" />\n                <link rel=\"stylesheet\" type=\"text/css\" href=\"/nprogress.css\" />\n            </Head>\n            <ContextOne.Provider value={value}>\n                <Component {...pageProps} {...value} />\n            </ContextOne.Provider>\n        </>\n    );\n\n}\n\nexport default MyApp;"]},"metadata":{},"sourceType":"module"}