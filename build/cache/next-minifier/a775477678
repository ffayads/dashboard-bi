{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[40],{\"1mBh\":function(a,t,e){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/visar\",function(){return e(\"4aND\")}])},\"4aND\":function(a,t,e){\"use strict\";e.r(t);var n=e(\"q1tI\"),o=e.n(n),l=e(\"Zxhn\"),r=e(\"WWuD\"),s=o.a.createElement;t.default=function(){return s(o.a.Fragment,null,s(l.a,null,s(r.default,null)))}},IfRU:function(a,t,e){\"use strict\";e.r(t),e.d(t,\"getData\",(function(){return p})),e.d(t,\"RechazaS\",(function(){return h})),e.d(t,\"ApruebaS\",(function(){return b})),e.d(t,\"FinalizaS\",(function(){return g}));var n=e(\"o0o1\"),o=e.n(n),l=e(\"q1tI\"),r=e.n(l),s=e(\"GUC0\"),c=e.n(s),u=e(\"vDqi\"),i=e.n(u),d=e(\"sOKU\"),f=r.a.createElement,m=function(a){return f(\"div\",{className:\"actions-right\"},f(d.a,{onClick:function(){a.setOpenModal({flag:!0,id:a.data})},color:\"info\",size:\"sm\",className:\"btn-icon btn-round\"},f(\"i\",{className:\"tim-icons icon-alert-circle-exc\"})))},p=function(a){var t;return o.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:t={weekday:\"long\",year:\"numeric\",month:\"long\",day:\"numeric\",hour12:\"false\"},i.a.get(\"authAdmin/reports/GetReports\",{id:\"\"}).then((function(e){if(e.status){var n=[];e.data.data.Reports.map((function(e){switch(e.StatusId=e.Status,e.Status){case 0:e.Status=\"PENDIENTE\";break;case 1:e.Status=\"APROBADO\";break;case 2:e.Status=\"RECHAZADO\";break;case 3:e.Status=\"FINALIZADO\"}e.Date=new Date(e.Time).toLocaleDateString(\"es-CO\",t),e.actions=m({setOpenModal:a.setOpenModal,data:e.ID}),n.push(e)})),a.setData(n)}else c()(e.msg,\"\",\"warning\")}));case 2:case\"end\":return e.stop()}}),null,null,null,Promise)},h=function(a,t){c()({title:\"Esta seguro?\",text:\"Esta por rechazar una solicitud\",icon:\"warning\",buttons:[\"Cancelar!\",\"Si, Rechazar!\"]}).then((function(e){!0===e&&i.a.post(\"authAdmin/reports/UpdateReports\",{id:a.id,nota:a.nota,status:2}).then((function(a){c()(\"Exito!\",\"Se rechazo la solicitud\",\"success\"),t([])}))}))},b=function(a,t){c()({title:\"Esta seguro?\",text:\"Esta por aceptar una solicitud\",icon:\"warning\",buttons:[\"Cancelar!\",\"Si, Aceptar!\"]}).then((function(e){!0===e&&i.a.post(\"authAdmin/reports/UpdateReports\",{id:a.id,nota:a.nota,status:1}).then((function(a){console.log(a),c()(\"Exito!\",\"Se rechazo la solicitud\",\"success\"),t([])}))}))},g=function(a,t){c()({title:\"Esta seguro?\",text:\"Esta por Finalizar una solicitud\",icon:\"warning\",buttons:[\"Cancelar!\",\"Si, Finalizar!\"]}).then((function(e){!0===e&&i.a.post(\"authAdmin/reports/UpdateReports\",{id:a.id,nota:a.nota,status:1}).then((function(a){console.log(a),c()(\"Exito!\",\"Se rechazo la solicitud\",\"success\"),t([])}))}))};t.default=function(){return\"Data\"}},WWuD:function(a,t,e){\"use strict\";e.r(t);var n=e(\"ODXe\"),o=e(\"q1tI\"),l=e.n(o),r=e(\"1DpO\"),s=e(\"ok1R\"),c=e(\"rhny\"),u=e(\"9a8N\"),i=e(\"F66N\"),d=e(\"arvA\"),f=e(\"Czwy\"),m=e(\"EzvR\"),p=e(\"jrRI\"),h=e(\"3OM0\"),b=e(\"2Te1\"),g=e(\"L3zb\"),S=e(\"sOKU\"),N=e(\"BLzl\"),D=e(\"afej\"),y=e(\"ChEw\"),z=e(\"/kxI\"),E=e(\"lA9b\"),w=e(\"MHX4\"),k=e(\"IfRU\"),O=l.a.createElement;t.default=function(a){var t=l.a.useState(!1),e=Object(n.a)(t,2),o=e[0],v=e[1],I=l.a.useState(\"\"),A=Object(n.a)(I,2),R=A[0],x=A[1],C=Object(w.b)(),F=C.handleSubmit,j=C.errors,q=C.control,U=C.reset,M=Object(w.b)(),P=M.handleSubmit,H=M.errors,T=M.control,V=M.reset,_=Object(w.b)(),B=_.handleSubmit,L=_.errors,W=_.control,X=_.reset,Z=function(a){return Object(k.ApruebaS)(a,$)},G=function(a){return Object(k.RechazaS)(a,$)},J=function(a){return FinalizaS(a,$)},K=l.a.useState([]),Q=Object(n.a)(K,2),Y=Q[0],$=Q[1];l.a.useEffect((function(){0===Y.length&&Object(k.getData)({setData:$,setOpenModal:v}),v(!1)}),[Y]),l.a.useEffect((function(){void 0===o.id&&(U(),V(),X(),x(\"\"))}),[o]);return O(l.a.Fragment,null,O(\"div\",{className:\"content\"},O(s.a,null,O(c.a,{xs:12,md:12},O(N.a,null,O(D.a,null,O(y.a,{tag:\"h3\"},\"Solicitudes   \")),O(z.a,null,O(r.a,{data:Y,columns:[{Header:\"Numero\",accessor:\"ID\"},{Header:\"Fecha\",accessor:\"Date\"},{Header:\"Estado\",accessor:\"Status\"},{Header:\"Acciones\",accessor:\"actions\",sortable:!1,filterable:!1}],filterable:!0,resizable:!1,defaultPageSize:10,showPaginationBottom:!0,className:\"-striped -highlight\"})))))),function(){var a=Y.filter((function(a){return a.ID===o.id}))[0];return void 0===a?\"\":O(E.a,{modal:o.flag,setModal:v,title:\"Acciones para la solicitud No. \"+a.ID,size:\"lg\"},O(s.a,null,O(c.a,{sm:4},O(u.a,{pills:!0,className:\"nav-pills-primary flex-column\"},1!==a.StatusId?O(l.a.Fragment,null,O(i.a,null,O(d.a,{className:\"ht1\"===R?\"active\":\"\",style:{background:\"ht1\"===R?\"green\":\"\"},onClick:function(){return x(\"ht1\")}},\"Aprobar\")),O(i.a,null,O(d.a,{className:\"ht2\"===R?\"active\":\"\",style:{background:\"ht2\"===R?\"red\":\"\"},onClick:function(){return x(\"ht2\")}},\"Rechazar\"))):\"\",1===a.StatusId?O(i.a,null,O(d.a,{className:\"ht3\"===R?\"active\":\"\",style:{background:\"ht3\"===R?\"#ff9900\":\"\"},onClick:function(){return x(\"ht3\")}},\"Finalizar\")):\"\")),O(c.a,{sm:8},O(f.a,{activeTab:R,className:\"tab-space\"},O(m.a,{tabId:\"ht1\"},O(c.a,{sm:12,style:{color:\"black\"}},O(\"p\",null,\" \",O(\"b\",null,\"Fecha : \"),a.Date)),O(c.a,{sm:12},O(\"form\",{onSubmit:F(Z)},O(p.a,null,O(h.a,{for:\"nota\",style:{color:\"black\"}},\"Nota :\"),j.nota1&&O(b.a,{color:\"warning\",pill:!0},\"El campo es requerido\"),O(w.a,{as:g.a,control:q,type:\"hidden\",name:\"id\",defaultValue:a.ID}),O(w.a,{as:g.a,control:q,type:\"textarea\",name:\"nota1\",placeholder:\"Nota\",autoComplete:\"off\",rules:{required:!0},defaultValue:\"\"}),O(\"center\",null,O(S.a,{type:\"submit\",className:\"btn-round\",color:\"success\",size:\"lg\",style:{background:\"green\"}},\"Aprobar\")))))),O(m.a,{tabId:\"ht2\"},O(c.a,{sm:12,style:{color:\"black\"}},O(\"p\",null,\" \",O(\"b\",null,\"Fecha : \"),a.Date)),O(c.a,{sm:12},O(\"form\",{onSubmit:P(G)},O(p.a,null,O(h.a,{for:\"nota\",style:{color:\"black\"}},\"Nota :\"),H.nota2&&O(b.a,{color:\"warning\",pill:!0},\"El campo es requerido\"),O(w.a,{as:g.a,control:T,type:\"hidden\",name:\"id\",defaultValue:o.id}),O(w.a,{as:g.a,control:T,type:\"textarea\",name:\"nota2\",placeholder:\"Nota\",autoComplete:\"off\",rules:{required:!0},defaultValue:\"\"}),O(\"center\",null,O(S.a,{type:\"submit\",className:\"btn-round\",color:\"danger\",size:\"lg\"},\"Rechazar\")))))),O(m.a,{tabId:\"ht3\"},O(c.a,{sm:12,style:{color:\"black\"}},O(\"p\",null,\" \",O(\"b\",null,\"Fecha : \"),a.Date)),O(c.a,{sm:12},O(\"form\",{onSubmit:B(J)},O(p.a,null,O(h.a,{for:\"nota\",style:{color:\"black\"}},\"Nota :\"),L.nota3&&O(b.a,{color:\"warning\",pill:!0},\"El campo es requerido\"),O(w.a,{as:g.a,control:W,type:\"hidden\",name:\"id\",defaultValue:a.id}),O(w.a,{as:g.a,control:W,type:\"textarea\",name:\"nota3\",placeholder:\"Nota\",autoComplete:\"off\",rules:{required:!0},defaultValue:\"\"}),O(\"center\",null,O(S.a,{type:\"submit\",className:\"btn-round\",style:{background:\"#ff9900\"},size:\"lg\"},\"Finalizar\"))))))))))}())}}},[[\"1mBh\",0,1,2,4,3,5,6,7,8,9,10,11,13,12]]]);"}